## sysctl 命令
- `sysctl -a`，查看所有内核参数
- `sysctl -w net.ipv4.ip_local_port_range="1024 65535"`，临时改变内核参数的值
- `sysctl -p /etc/sysctl.conf`，从指定文件加载内核参数，默认从`/etc/sysctl.conf`中加载

## ipv4参数
为了避免在服务器和客户端混用的环境出现端口冲突的情况，可以使用两个内核参数来控制端口的分配：
- `ip_local_port_range`，参数文件路径：`/proc/sys/net/ipv4/ip_local_port_range`，参数解释：
    > 它定义了TCP和UDP用于选择本地端口的范围，这个范围由两个整数表示，第一个数字是范围的起始端口号，第二个数字是范围的结束端口号。通常建议这两个数字的奇偶性不同（一个为偶数，一个为奇数），这样可以在一定程度上提高端口分配的随机性和安全性。

    >这两个数字必须大于或等于 ip_unprivileged_port_start 这个参数定义的值，后者通常表示非特权用户进程可以使用的最小端口号。默认情况下，ip_local_port_range 的起始端口是32768，结束端口是60999。

- `ip_local_reserved_ports`，参数文件路径：`/proc/sys/net/ipv4/ip_local_reserved_ports`，参数解释：
    > 它是一个保留端口列表，这些端口号被特定的第三方应用程序所使用。系统在自动端口分配时（例如，当调用 connect() 或 bind() 函数且端口号为0时）不会使用这些端口。然而，如果用户显式地指定了端口号，那么这个行为不会受到影响。

    > 这个参数的输入和输出格式是一个由逗号分隔的端口范围列表（例如，“1,2-4,10-10”表示端口1、2、3、4和10被保留）。如果向这个文件写入新的值，系统会清除之前所有保留的端口，并更新为新输入的列表。
